<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD6e5KCfZHZEoJLPDVUn24zM-30hir0CwM&sensor=true"></script>

<div class="container">
  <div class="row">
  <div class="col-lg-6 col-md-6 col-md-6">
  <%= form_for(@school) do |f| %>
    <% if @school.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@school.errors.count, "error") %> prohibited this school from being saved:</h2>
        <ul>
        <% @school.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      <%= f.label :name %><br>
      <%= f.text_field :name %>
    </div>
    <div class="field">
      <%= f.label :address %><br>
      <%= f.text_field :address %>
    </div>
    <div class="field">
      <%= f.label :city %><br>
      <%= f.text_field :city %>
    </div>
    <div class="field">
      <%= f.label :zip %><br>
      <%= f.text_field :zip %>
    </div>
    <div class="field">
      <%= f.label :state %><br>
      <%= f.text_field :state %>
    </div>
    <div class="field">
      <%= f.label :county %><br>
      <%= f.text_field :county %>
    </div>
    <div class="field">
      <%= f.label :phone_number %><br>
      <%= f.text_field :phone_number %>
    </div>
    <div class="field">
      <%= f.label :url %><br>
      <%= f.text_field :url %>
    </div>
    <div class="field">
      <%= f.label :school_type %><br>
      <%= f.text_field :school_type %>
    </div>
    <div class="field">
      <%= f.label :enrollment %><br>
      <%= f.text_field :enrollment %>
    </div>
    <div class="field">
      <%= f.label :grade_level %><br>
      <%= f.text_field :grade_level %>
    </div>
    <div class="field">
      <%= f.label :rating %><br>
      <%= f.text_field :rating %>
    </div>
    <div class="field">
      <%= f.label :is_religious %><br>
      <%= f.check_box :is_religious %>
    </div>
      <div class="field">
      <%= f.label :latitude %><br>
      <%= f.text_field :latitude %>
    </div>
      <div class="field">
      <%= f.label :longitude %><br>
      <%= f.text_field :longitude %>
    </div>
    <div class="actions">
      <%= f.submit %>
    </div>
  <% end %>
  </div>

  <div class="col-lg-6 col-md-6 col-md-6">
    <div id="map-canvas"></div>
  </div>
  </div>

  <%= link_to 'Show', @school %> |
  <%= link_to 'Back', school_path(@school) %>

</div>

<script type="text/javascript">
     function initialize() {
      var myLatLng = new google.maps.LatLng(<%=@school.latitude %>, <%=@school.longitude %>)
       var mapOptions = {
         center: myLatLng,
         zoom: 15
       };
       var map = new google.maps.Map(document.getElementById("map-canvas"),
           mapOptions);
       var marker = new google.maps.Marker({
        position: myLatLng,
        map: map
       });
     }
     google.maps.event.addDomListener(window, 'load', initialize);
</script>


